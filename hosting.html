<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Hosting an Alloverse app - Alloverse Documentation</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Hosting an Alloverse app | Alloverse Documentation</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Hosting an Alloverse app" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Getting started with Alloverse. Guides, code snippets, API references…" /> <meta property="og:description" content="Getting started with Alloverse. Guides, code snippets, API references…" /> <link rel="canonical" href="/hosting" /> <meta property="og:url" content="/hosting" /> <meta property="og:site_name" content="Alloverse Documentation" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Hosting an Alloverse app" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://alloverse.com/wp-content/uploads/Alloverse-logo-moniker-256x38-1.svg"}},"description":"Getting started with Alloverse. Guides, code snippets, API references…","headline":"Hosting an Alloverse app","url":"/hosting","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <script type="text/javascript" src="/assets/js/custom.js"></script> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Get Started (Lua)</a></li><li class="nav-list-item"><a href="/csharp" class="nav-list-link">Get Started (C#)</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/classes/" class="nav-list-link">AlloUI lua</a><ul class="nav-list "><li class="nav-list-item "><a href="/doc/classes/App.html" class="nav-list-link">App</a></li><li class="nav-list-item "><a href="/doc/classes/Asset.html" class="nav-list-link">Asset</a></li><li class="nav-list-item "><a href="/doc/classes/AssetManager.html" class="nav-list-link">AssetManager</a></li><li class="nav-list-item "><a href="/doc/classes/AssetView.html" class="nav-list-link">AssetView</a></li><li class="nav-list-item "><a href="/doc/classes/Base64Asset.html" class="nav-list-link">Base64Asset</a></li><li class="nav-list-item "><a href="/doc/classes/Bounds.html" class="nav-list-link">Bounds</a></li><li class="nav-list-item "><a href="/doc/classes/Button.html" class="nav-list-link">Button</a></li><li class="nav-list-item "><a href="/doc/classes/Client.html" class="nav-list-link">Client</a></li><li class="nav-list-item "><a href="/doc/classes/Color.html" class="nav-list-link">Color</a></li><li class="nav-list-item "><a href="/doc/classes/Cube.html" class="nav-list-link">Cube</a></li><li class="nav-list-item "><a href="/doc/classes/Entity.html" class="nav-list-link">Entity</a></li><li class="nav-list-item "><a href="/doc/classes/FileAsset.html" class="nav-list-link">FileAsset</a></li><li class="nav-list-item "><a href="/doc/classes/FrameView.html" class="nav-list-link">FrameView</a></li><li class="nav-list-item "><a href="/doc/classes/GrabHandle.html" class="nav-list-link">GrabHandle</a></li><li class="nav-list-item "><a href="/doc/classes/Label.html" class="nav-list-link">Label</a></li><li class="nav-list-item "><a href="/doc/classes/LovrFileAsset.html" class="nav-list-link">LovrFileAsset</a></li><li class="nav-list-item "><a href="/doc/classes/ModelView.html" class="nav-list-link">ModelView</a></li><li class="nav-list-item "><a href="/doc/classes/NavStack.html" class="nav-list-link">NavStack</a></li><li class="nav-list-item "><a href="/doc/classes/Ninepatch.html" class="nav-list-link">Ninepatch</a></li><li class="nav-list-item "><a href="/doc/classes/Pose.html" class="nav-list-link">Pose</a></li><li class="nav-list-item "><a href="/doc/classes/PropertyAnimation.html" class="nav-list-link">PropertyAnimation</a></li><li class="nav-list-item "><a href="/doc/classes/ProxyIconView.html" class="nav-list-link">ProxyIconView</a></li><li class="nav-list-item "><a href="/doc/classes/ResizeHandle.html" class="nav-list-link">ResizeHandle</a></li><li class="nav-list-item "><a href="/doc/classes/Size.html" class="nav-list-link">Size</a></li><li class="nav-list-item "><a href="/doc/classes/Slider.html" class="nav-list-link">Slider</a></li><li class="nav-list-item "><a href="/doc/classes/Speaker.html" class="nav-list-link">Speaker</a></li><li class="nav-list-item "><a href="/doc/classes/StackView.html" class="nav-list-link">StackView</a></li><li class="nav-list-item "><a href="/doc/classes/Surface.html" class="nav-list-link">Surface</a></li><li class="nav-list-item "><a href="/doc/classes/TabView.html" class="nav-list-link">TabView</a></li><li class="nav-list-item "><a href="/doc/classes/TextField.html" class="nav-list-link">TextField</a></li><li class="nav-list-item "><a href="/doc/classes/VideoSurface.html" class="nav-list-link">VideoSurface</a></li><li class="nav-list-item "><a href="/doc/classes/View.html" class="nav-list-link">View</a></li></ul></li><li class="nav-list-item"><a href="/concepts/architecture" class="nav-list-link">Architecture</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/protocol-reference" class="nav-list-link">Protocol Reference</a><ul class="nav-list "><li class="nav-list-item "><a href="/protocol-reference/asset-protocols" class="nav-list-link">Asset Protocol</a></li><li class="nav-list-item "><a href="/protocol-reference/coordinate-system" class="nav-list-link">Coordinate System</a></li><li class="nav-list-item "><a href="/protocol-reference/identity" class="nav-list-link">Identity</a></li><li class="nav-list-item "><a href="/protocol-reference/intent" class="nav-list-link">Intent</a></li><li class="nav-list-item "><a href="/protocol-reference/interactions" class="nav-list-link">Interactions</a></li><li class="nav-list-item "><a href="/protocol-reference/state-diffs" class="nav-list-link">State Diffs</a></li><li class="nav-list-item "><a href="/protocol-reference/url-definitions" class="nav-list-link">URL Definitions</a></li><li class="nav-list-item "><a href="/protocol-reference/wire-protocol" class="nav-list-link">Wire Protocol</a></li></ul></li><li class="nav-list-item"><a href="/components" class="nav-list-link">Components</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/community" class="nav-list-link">Community</a><ul class="nav-list "><li class="nav-list-item "><a href="/community/contributing" class="nav-list-link">Contributing to Alloverse</a></li><li class="nav-list-item "><a href="/community/code-of-conduct.html" class="nav-list-link">Code of Conduct</a></li></ul></li><li class="nav-list-item"><a href="/hig" class="nav-list-link">3D Interface Design Guidelines</a></li><li class="nav-list-item active"><a href="/hosting" class="nav-list-link active">Hosting an Alloverse app</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/licenses" class="nav-list-link">Licenses</a><ul class="nav-list "><li class="nav-list-item "><a href="/license/alloverse-license.html" class="nav-list-link">Alloverse License</a></li><li class="nav-list-item "><a href="/licenses/licenses" class="nav-list-link">Licenses used by Alloverse</a></li></ul></li><li class="nav-list-item"><a href="/doc/" class="nav-list-link">Index</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Alloverse Documentation" aria-label="Search Alloverse Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="hosting-an-alloverse-app"> <a href="#hosting-an-alloverse-app" class="anchor-heading" aria-labelledby="hosting-an-alloverse-app"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hosting an Alloverse app </h1> <p>So! You’ve built an Alloverse app, and now you want to host it on the Internet so that other people can use it. This is very similar to hosting a web app: you put some code on a server on the Internet, and then other people can access that server, and run the code on that server to access your web app in their browser.</p> <p>The one thing that is a bit weird to get your head around is that an alloapp isn’t accessed directly by the end user’s browser! Instead, the APP talks to the PLACE, and then the PLACE updates its world representation and sends this new world to the USER’s visor.</p> <p><img src="/assets/images/alloui.png" alt="alloui" /></p> <p>When you’re running an alloapp on your <strong>local development machine</strong>, you have used <code class="language-plaintext highlighter-rouge">./allo/assist run alloplace://sandbox.places.alloverse.com</code> or something similar to connect your app directly to a specific place. This is good for debugging, or for demoing something to someone once. However, it won’t let other users in other Places launch your app, and also your app will stop running in the Place e g when your laptop goes to sleep.</p> <p><strong>In production</strong>, you can run <code class="language-plaintext highlighter-rouge">./allo/assist serve</code> on a dedicated server to start a http gateway. When an alloplace accesses this gateway, it will start a new instance of your alloapp, and connect it to the alloplace that asked for it. This is how you put your app properly on the internet, and let other people launch it to their Alloverse Places.</p> <h2 id="whats-actually-going-on-underneath"> <a href="#whats-actually-going-on-underneath" class="anchor-heading" aria-labelledby="whats-actually-going-on-underneath"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What’s actually going on, underneath? </h2> <ol> <li>A user clicks an <code class="language-plaintext highlighter-rouge">alloapp:</code> URL on their computer or headset</li> <li>If Alloverse Visor is already running on that device, and is connected to a place:</li> <li>The Visor calls the interaction <code class="language-plaintext highlighter-rouge">launch_app</code> on the connected Place, asking it to launch the app on behalf of the user.</li> <li>The Place extracts the http(s) URL portion, and calls it with the URL to get back to the current place + identity of the requesting user (see <a href="/protocol-reference/url-definitions#alloapp">url definition</a> for full description).</li> <li>The gateway launches a new instance of the app, and connects it to the calling place.</li> </ol> <h2 id="step-by-step-best-practice-hosting"> <a href="#step-by-step-best-practice-hosting" class="anchor-heading" aria-labelledby="step-by-step-best-practice-hosting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step-by-step best practice hosting </h2> <p>In the future, there will be a Dockerfile in the standard alloapp template. For now, you can do something like this:</p> <ol> <li>Put your code on a server somewhere. This server should have a nice DNS name and proper SSL certificates.</li> <li>Using systemd or similar, configure the server to automatically run <code class="language-plaintext highlighter-rouge">./allo/assist serve</code> in the root of your project on boot</li> <li><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-load-balancing-with-ssl-termination">Setup an nginx SSL termination proxy</a> in front of it, with a <code class="language-plaintext highlighter-rouge">proxy_pass</code> to <code class="language-plaintext highlighter-rouge">http://localhost:8000</code> (which is where the gateway is running). (this is technically optional, but recommended)</li> <li>If you did step 3, make sure to add a firewall disallowing traffic to port 8000.</li> </ol> <p>You can now figure out the URL of your app. If your server is <code class="language-plaintext highlighter-rouge">example.com</code>, your gateway is now available over HTTPS at <code class="language-plaintext highlighter-rouge">https://example.com</code>; or if you didn’t configure nginx or ssl, at <code class="language-plaintext highlighter-rouge">http://example.com:8000</code>. Take this URL, and prepend <code class="language-plaintext highlighter-rouge">alloapp:</code>, so you get something like: <strong><code class="language-plaintext highlighter-rouge">alloapp:https://example.com/</code></strong>. That’s your app’s URL!</p> <p>In the hopefully not too distant future, you’ll be able to log onto <a href="https://my.alloverse.com">my.alloverse.com</a> to register your app metadata and URL. This will then publish your app to the Marketplace inside Alloverse, so any user can access it.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
